import 'package:auto_size_text/auto_size_text.dart';
import 'package:flutter/material.dart';

import '../../dropsource_utils.dart';

class TextHeadline1 extends TextWidget {
  
  TextHeadline1(
    String text, {
    Key key,
    List<String> args,
    bool shouldTranslate,
    TextAlign textAlign,
    TextOverflow overflow,
    int maxLines,
    double maxFontSize,
    double minFontSize,
    bool shouldAutoResize,
    bool shouldUpperCase,
    double fontSizeMultiplier,
    TextStyle styles,
  }) : super(
          text,
          key: key,
          shouldTranslate: shouldTranslate,
          styles: styles,
          args: args,
          textAlign: textAlign,
          overflow: overflow,
          maxLines: maxLines,
          maxFontSize: maxFontSize,
          minFontSize: minFontSize,
          shouldAutoResize: shouldAutoResize,
          fontSizeMultiplier: fontSizeMultiplier,
          shouldUpperCase: shouldUpperCase,
        );

  @override
  TextStyle style(BuildContext context) =>
      Theme.of(context).textTheme.headline1;
}

class TextHeadline2 extends TextWidget {
  TextHeadline2(
    String text, {
    Key key,
    List<String> args,
    bool shouldTranslate,
    TextAlign textAlign,
    TextOverflow overflow,
    int maxLines,
    double maxFontSize,
    double minFontSize,
    bool shouldAutoResize,
    bool shouldUpperCase,
    double fontSizeMultiplier,
    TextStyle styles,
  }) : super(
          text,
          key: key,
          shouldTranslate: shouldTranslate,
          styles: styles,
          args: args,
          textAlign: textAlign,
          overflow: overflow,
          maxLines: maxLines,
          maxFontSize: maxFontSize,
          minFontSize: minFontSize,
          shouldAutoResize: shouldAutoResize,
          fontSizeMultiplier: fontSizeMultiplier,
          shouldUpperCase: shouldUpperCase,
        );

  @override
  TextStyle style(BuildContext context) =>
      Theme.of(context).textTheme.headline2;
}

class TextHeadline3 extends TextWidget {
  TextHeadline3(
    String text, {
    Key key,
    List<String> args,
    bool shouldTranslate,
    TextAlign textAlign,
    TextOverflow overflow,
    int maxLines,
    double maxFontSize,
    double minFontSize,
    bool shouldAutoResize,
    bool shouldUpperCase,
    double fontSizeMultiplier,
    TextStyle styles,
  }) : super(
          text,
          key: key,
          shouldTranslate: shouldTranslate,
          styles: styles,
          args: args,
          textAlign: textAlign,
          overflow: overflow,
          maxLines: maxLines,
          maxFontSize: maxFontSize,
          minFontSize: minFontSize,
          shouldAutoResize: shouldAutoResize,
          fontSizeMultiplier: fontSizeMultiplier,
          shouldUpperCase: shouldUpperCase,
        );

  @override
  TextStyle style(BuildContext context) =>
      Theme.of(context).textTheme.headline3;
}

class TextHeadline4 extends TextWidget {
  TextHeadline4(
    String text, {
    Key key,
    List<String> args,
    bool shouldTranslate,
    TextAlign textAlign,
    TextOverflow overflow,
    int maxLines,
    double maxFontSize,
    double minFontSize,
    bool shouldAutoResize,
    bool shouldUpperCase,
    double fontSizeMultiplier,
    TextStyle styles,
  }) : super(
          text,
          key: key,
          shouldTranslate: shouldTranslate,
          styles: styles,
          args: args,
          textAlign: textAlign,
          overflow: overflow,
          maxLines: maxLines,
          maxFontSize: maxFontSize,
          minFontSize: minFontSize,
          shouldAutoResize: shouldAutoResize,
          fontSizeMultiplier: fontSizeMultiplier,
          shouldUpperCase: shouldUpperCase,
        );

  @override
  TextStyle style(BuildContext context) =>
      Theme.of(context).textTheme.headline4;
}

class TextHeadline5 extends TextWidget {
  TextHeadline5(
    String text, {
    Key key,
    List<String> args,
    bool shouldTranslate,
    TextAlign textAlign,
    TextOverflow overflow,
    int maxLines,
    double maxFontSize,
    double minFontSize,
    bool shouldAutoResize,
    bool shouldUpperCase,
    double fontSizeMultiplier,
    TextStyle styles,
  }) : super(
          text,
          key: key,
          shouldTranslate: shouldTranslate,
          styles: styles,
          args: args,
          textAlign: textAlign,
          overflow: overflow,
          maxLines: maxLines,
          maxFontSize: maxFontSize,
          minFontSize: minFontSize,
          shouldAutoResize: shouldAutoResize,
          fontSizeMultiplier: fontSizeMultiplier,
          shouldUpperCase: shouldUpperCase,
        );

  @override
  TextStyle style(BuildContext context) =>
      Theme.of(context).textTheme.headline5;
}

class TextHeadline6 extends TextWidget {
  TextHeadline6(
    String text, {
    Key key,
    List<String> args,
    bool shouldTranslate,
    TextAlign textAlign,
    TextOverflow overflow,
    int maxLines,
    double maxFontSize,
    double minFontSize,
    bool shouldAutoResize,
    bool shouldUpperCase,
    double fontSizeMultiplier,
    TextStyle styles,
  }) : super(
          text,
          key: key,
          shouldTranslate: shouldTranslate,
          styles: styles,
          args: args,
          textAlign: textAlign,
          overflow: overflow,
          maxLines: maxLines,
          maxFontSize: maxFontSize,
          minFontSize: minFontSize,
          shouldAutoResize: shouldAutoResize,
          fontSizeMultiplier: fontSizeMultiplier,
          shouldUpperCase: shouldUpperCase,
        );

  @override
  TextStyle style(BuildContext context) =>
      Theme.of(context).textTheme.headline6;
}

class TextSubtitle1 extends TextWidget {
  TextSubtitle1(
    String text, {
    Key key,
    List<String> args,
    bool shouldTranslate,
    TextAlign textAlign,
    TextOverflow overflow,
    int maxLines,
    double maxFontSize,
    double minFontSize,
    bool shouldAutoResize,
    bool shouldUpperCase,
    double fontSizeMultiplier,
    TextStyle styles,
  }) : super(
          text,
          key: key,
          shouldTranslate: shouldTranslate,
          styles: styles,
          args: args,
          textAlign: textAlign,
          overflow: overflow,
          maxLines: maxLines,
          maxFontSize: maxFontSize,
          minFontSize: minFontSize,
          shouldAutoResize: shouldAutoResize,
          fontSizeMultiplier: fontSizeMultiplier,
          shouldUpperCase: shouldUpperCase,
        );

  @override
  TextStyle style(BuildContext context) =>
      Theme.of(context).textTheme.subtitle1;
}

class TextSubtitle2 extends TextWidget {
  TextSubtitle2(
    String text, {
    Key key,
    List<String> args,
    bool shouldTranslate,
    TextAlign textAlign,
    TextOverflow overflow,
    int maxLines,
    double maxFontSize,
    double minFontSize,
    bool shouldAutoResize,
    bool shouldUpperCase,
    double fontSizeMultiplier,
    TextStyle styles,
  }) : super(
          text,
          key: key,
          shouldTranslate: shouldTranslate,
          styles: styles,
          args: args,
          textAlign: textAlign,
          overflow: overflow,
          maxLines: maxLines,
          maxFontSize: maxFontSize,
          minFontSize: minFontSize,
          shouldAutoResize: shouldAutoResize,
          fontSizeMultiplier: fontSizeMultiplier,
          shouldUpperCase: shouldUpperCase,
        );

  @override
  TextStyle style(BuildContext context) =>
      Theme.of(context).textTheme.subtitle2;
}

class TextBody1 extends TextWidget {
  TextBody1(
    String text, {
    Key key,
    List<String> args,
    bool shouldTranslate,
    TextAlign textAlign,
    TextOverflow overflow,
    int maxLines,
    double maxFontSize,
    double minFontSize,
    bool shouldAutoResize,
    bool shouldUpperCase,
    double fontSizeMultiplier,
    TextStyle styles,
  }) : super(
          text,
          key: key,
          shouldTranslate: shouldTranslate,
          styles: styles,
          args: args,
          textAlign: textAlign,
          overflow: overflow,
          maxLines: maxLines,
          maxFontSize: maxFontSize,
          minFontSize: minFontSize,
          shouldAutoResize: shouldAutoResize,
          fontSizeMultiplier: fontSizeMultiplier,
          shouldUpperCase: shouldUpperCase,
        );

  @override
  TextStyle style(BuildContext context) =>
      Theme.of(context).textTheme.bodyText1;
}

class TextBody2 extends TextWidget {
  TextBody2(
    String text, {
    Key key,
    List<String> args,
    bool shouldTranslate,
    TextAlign textAlign,
    TextOverflow overflow,
    int maxLines,
    double maxFontSize,
    double minFontSize,
    bool shouldAutoResize,
    bool shouldUpperCase,
    double fontSizeMultiplier,
    TextStyle styles,
  }) : super(
          text,
          key: key,
          shouldTranslate: shouldTranslate,
          styles: styles,
          args: args,
          textAlign: textAlign,
          overflow: overflow,
          maxLines: maxLines,
          maxFontSize: maxFontSize,
          minFontSize: minFontSize,
          shouldAutoResize: shouldAutoResize,
          fontSizeMultiplier: fontSizeMultiplier,
          shouldUpperCase: shouldUpperCase,
        );

  @override
  TextStyle style(BuildContext context) =>
      Theme.of(context).textTheme.bodyText2;
}

class TextCaption extends TextWidget {
  TextCaption(
    String text, {
    Key key,
    List<String> args,
    bool shouldTranslate,
    TextAlign textAlign,
    TextOverflow overflow,
    int maxLines,
    double minFontSize,
    bool shouldAutoResize,
    bool shouldUpperCase,
    double fontSizeMultiplier,
    TextStyle styles,
  }) : super(
          text,
          key: key,
          shouldTranslate: shouldTranslate,
          styles: styles,
          args: args,
          textAlign: textAlign,
          overflow: overflow,
          maxLines: maxLines,
          minFontSize: minFontSize,
          shouldAutoResize: shouldAutoResize,
          fontSizeMultiplier: fontSizeMultiplier,
          shouldUpperCase: shouldUpperCase,
        );

  @override
  TextStyle style(BuildContext context) => Theme.of(context).textTheme.caption;
}

class TextOverline extends TextWidget {
  TextOverline(
    String text, {
    Key key,
    List<String> args,
    bool shouldTranslate,
    TextAlign textAlign,
    TextOverflow overflow,
    int maxLines,
    double minFontSize,
    bool shouldAutoResize,
    bool shouldUpperCase,
    double fontSizeMultiplier,
    TextStyle styles,
  }) : super(
          text,
          key: key,
          shouldTranslate: shouldTranslate,
          styles: styles,
          args: args,
          textAlign: textAlign,
          overflow: overflow,
          maxLines: maxLines,
          minFontSize: minFontSize,
          shouldAutoResize: shouldAutoResize,
          fontSizeMultiplier: fontSizeMultiplier,
          shouldUpperCase: shouldUpperCase,
        );

  @override
  TextStyle style(BuildContext context) => Theme.of(context).textTheme.overline;
}

class TextButton extends TextWidget {
  TextButton(
    String text, {
    Key key,
    List<String> args,
    bool shouldTranslate,
    TextAlign textAlign,
    TextOverflow overflow,
    int maxLines,
    double maxFontSize,
    double minFontSize,
    bool shouldAutoResize,
    bool shouldUpperCase,
    TextStyle styles,
    double fontSizeMultiplier,
  }) : super(
          text,
          key: key,
          shouldTranslate: shouldTranslate,
          styles: styles,
          args: args,
          textAlign: textAlign,
          overflow: overflow,
          maxLines: maxLines,
          maxFontSize: maxFontSize,
          minFontSize: minFontSize,
          shouldAutoResize: shouldAutoResize,
          fontSizeMultiplier: fontSizeMultiplier,
          shouldUpperCase: shouldUpperCase,
        );

  @override
  TextStyle style(BuildContext context) => Theme.of(context).textTheme.button;
}

abstract class TextWidget extends StatelessWidget {
  final String text;
  final List<String> args;
  final bool shouldTranslate;
  final TextAlign textAlign;
  final TextOverflow overflow;
  final int maxLines;
  final double maxFontSize, minFontSize;
  final bool shouldUpperCase, shouldAutoResize;
  final TextStyle styles;
  final double fontSizeMultiplier;
  TextStyle style(BuildContext context);

  TextWidget(
    this.text, {
    this.shouldTranslate,
    this.shouldAutoResize,
    this.fontSizeMultiplier,
    this.minFontSize,
    this.maxFontSize,
    this.styles,
    this.overflow,
    this.maxLines,
    this.args,
    this.textAlign = TextAlign.start,
    this.shouldUpperCase,
    Key key,
  }) : super(key: key);

  bool get _shouldTranslate => shouldTranslate ?? false;
  bool get _shouldUpperCase => shouldUpperCase ?? false;
  bool get _shouldAutoResize => shouldAutoResize ?? false;

  @override
  Widget build(BuildContext context) {
    var translatedText = _shouldTranslate
        ? Translations.of(context).textWithArgs(text, args ?? [])
        : text;
    var formattedText =
        _shouldUpperCase ? translatedText.toUpperCase() : translatedText;
    // var _overflow =
    // overflow != null ? overflow : DefaultTextStyle.of(context).overflow;
    var _styles =
        styles == null ? style(context) : style(context)?.merge(styles);

    // This will auto
    if (_shouldAutoResize ?? false) {
      return AutoSizeText(
        formattedText,
        overflow: overflow,
        style: _styles,
        textAlign: textAlign,
        maxLines: maxLines,
        maxFontSize: (isTablet(context) ?? false)
            ? _styles.fontSize * (fontSizeMultiplier ?? 1.2)
            : _styles.fontSize,
      );
    }
    return Text(
      formattedText,
      overflow: overflow,
      style: _styles,
      textAlign: textAlign,
      maxLines: maxLines,
    );
  }
}
